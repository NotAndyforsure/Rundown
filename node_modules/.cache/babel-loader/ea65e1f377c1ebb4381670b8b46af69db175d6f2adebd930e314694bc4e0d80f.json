{"ast":null,"code":"import _regeneratorRuntime from\"/home/vboxuser/repos/rundown/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/vboxuser/repos/rundown/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/vboxuser/repos/rundown/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,createContext,useContext,useRef}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";console.log(process.env.REACT_APP_PRIVATE_KEY);var ResultContext=/*#__PURE__*/createContext();export var ResultContextProvider=function ResultContextProvider(_ref){var children=_ref.children;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),result=_useState2[0],setResult=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isLoading=_useState4[0],setIsLoading=_useState4[1];var _useState5=useState(\"Andrew Tate\"),_useState6=_slicedToArray(_useState5,2),searchTerm=_useState6[0],setSearchTerm=_useState6[1];var baseUrl=useRef(\"\");var options=useRef({});var base=function base(i){var images=function images(){baseUrl.current=\"https://bing-image-search1.p.rapidapi.com/images/search?q=\".concat(i);options.current={method:\"GET\",headers:{\"X-RapidAPI-Key\":process.env.REACT_APP_PRIVATE_KEY,\"X-RapidAPI-Host\":\"bing-image-search1.p.rapidapi.com\"}};};var link=function link(){baseUrl.current=\"https://bing-web-search1.p.rapidapi.com/search?q=\".concat(i,\"&freshness=Day&textFormat=Raw&safeSearch=Off&mkt=en-us\");options.current={method:\"GET\",headers:{\"X-BingApis-SDK\":\"true\",\"X-RapidAPI-Key\":process.env.REACT_APP_PRIVATE_KEY,\"X-RapidAPI-Host\":\"bing-web-search1.p.rapidapi.com\"}};};var news=function news(){baseUrl.current=\"https://bing-news-search1.p.rapidapi.com/news/search?q=\".concat(i,\"&safeSearch=Off&textFormat=Raw&freshness=Day\");options.current={method:\"GET\",headers:{\"X-BingApis-SDK\":\"true\",\"X-RapidAPI-Key\":process.env.REACT_APP_PRIVATE_KEY,\"X-RapidAPI-Host\":\"bing-news-search1.p.rapidapi.com\"}};};var videos=function videos(){baseUrl.current=\"https://bing-video-search1.p.rapidapi.com/videos/search?q=\".concat(i);options.current={method:\"GET\",headers:{\"X-RapidAPI-Key\":process.env.REACT_APP_PRIVATE_KEY,\"X-RapidAPI-Host\":\"bing-video-search1.p.rapidapi.com\"}};};return{images:images,link:link,news:news,videos:videos};};var getResult=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(q,type){var response,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.t0=type;_context.next=_context.t0===\"/search\"?3:_context.t0===\"/images\"?5:_context.t0===\"/news\"?7:_context.t0===\"/videos\"?9:11;break;case 3:base(q).link();return _context.abrupt(\"break\",12);case 5:base(q).images();return _context.abrupt(\"break\",12);case 7:base(q).news();return _context.abrupt(\"break\",12);case 9:base(q).videos();return _context.abrupt(\"break\",12);case 11:return _context.abrupt(\"break\",12);case 12:setIsLoading(true);_context.next=15;return fetch(baseUrl.current,options.current);case 15:response=_context.sent;_context.next=18;return response.json();case 18:data=_context.sent;console.log(data);setResult(data);setIsLoading(false);case 22:case\"end\":return _context.stop();}},_callee);}));return function getResult(_x,_x2){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsx(ResultContext.Provider,{value:{getResult:getResult,result:result,searchTerm:searchTerm,setSearchTerm:setSearchTerm,isLoading:isLoading},children:children});};export var useResultContext=function useResultContext(){return useContext(ResultContext);};","map":{"version":3,"names":["React","useState","createContext","useContext","useRef","jsx","_jsx","console","log","process","env","REACT_APP_PRIVATE_KEY","ResultContext","ResultContextProvider","_ref","children","_useState","_useState2","_slicedToArray","result","setResult","_useState3","_useState4","isLoading","setIsLoading","_useState5","_useState6","searchTerm","setSearchTerm","baseUrl","options","base","i","images","current","concat","method","headers","link","news","videos","getResult","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","q","type","response","data","wrap","_callee$","_context","prev","next","t0","abrupt","fetch","sent","json","stop","_x","_x2","apply","arguments","Provider","value","useResultContext"],"sources":["/home/vboxuser/repos/rundown/src/contexts/ResultContextProvider.js"],"sourcesContent":["import React, {useState, createContext, useContext, useRef} from \"react\"\nconsole.log(process.env.REACT_APP_PRIVATE_KEY)\nconst ResultContext = createContext()\n\nexport const ResultContextProvider = ({children}) => {\n  const [result, setResult] = useState([])\n  const [isLoading, setIsLoading] = useState(false)\n  const [searchTerm, setSearchTerm] = useState(\"Andrew Tate\")\n  const baseUrl = useRef(\"\")\n  const options = useRef({})\n  const base = (i) => {\n    const images = () => {\n      baseUrl.current = `https://bing-image-search1.p.rapidapi.com/images/search?q=${i}`\n      options.current = {\n        method: \"GET\",\n        headers: {\n          \"X-RapidAPI-Key\": process.env.REACT_APP_PRIVATE_KEY,\n          \"X-RapidAPI-Host\": \"bing-image-search1.p.rapidapi.com\",\n        },\n      }\n    }\n    const link = () => {\n      baseUrl.current = `https://bing-web-search1.p.rapidapi.com/search?q=${i}&freshness=Day&textFormat=Raw&safeSearch=Off&mkt=en-us`\n\n      options.current = {\n        method: \"GET\",\n        headers: {\n          \"X-BingApis-SDK\": \"true\",\n          \"X-RapidAPI-Key\": process.env.REACT_APP_PRIVATE_KEY,\n          \"X-RapidAPI-Host\": \"bing-web-search1.p.rapidapi.com\",\n        },\n      }\n    }\n    const news = () => {\n      baseUrl.current = `https://bing-news-search1.p.rapidapi.com/news/search?q=${i}&safeSearch=Off&textFormat=Raw&freshness=Day`\n      options.current = {\n        method: \"GET\",\n        headers: {\n          \"X-BingApis-SDK\": \"true\",\n          \"X-RapidAPI-Key\": process.env.REACT_APP_PRIVATE_KEY,\n          \"X-RapidAPI-Host\": \"bing-news-search1.p.rapidapi.com\",\n        },\n      }\n    }\n    const videos = () => {\n      baseUrl.current = `https://bing-video-search1.p.rapidapi.com/videos/search?q=${i}`\n      options.current = {\n        method: \"GET\",\n        headers: {\n          \"X-RapidAPI-Key\": process.env.REACT_APP_PRIVATE_KEY,\n          \"X-RapidAPI-Host\": \"bing-video-search1.p.rapidapi.com\",\n        },\n      }\n    }\n\n    return {images, link, news, videos}\n  }\n\n  const getResult = async (q, type) => {\n    switch (type) {\n      case \"/search\":\n        base(q).link()\n\n        break\n      case \"/images\":\n        base(q).images()\n        break\n      case \"/news\":\n        base(q).news()\n        break\n      case \"/videos\":\n        base(q).videos()\n        break\n      default:\n        break\n    }\n\n    setIsLoading(true)\n\n    const response = await fetch(baseUrl.current, options.current)\n\n    const data = await response.json()\n    console.log(data)\n    setResult(data)\n    setIsLoading(false)\n  }\n\n  return (\n    <ResultContext.Provider value={{getResult, result, searchTerm, setSearchTerm, isLoading}}>\n      {children}\n    </ResultContext.Provider>\n  )\n}\n\nexport const useResultContext = () => {\n  return useContext(ResultContext)\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}